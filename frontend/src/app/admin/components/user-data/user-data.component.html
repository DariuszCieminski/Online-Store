<div class="container" fxLayout="column" fxLayoutGap="2rem">
    <div class="title">
        Edit user
    </div>
    <form ngForm [formGroup]="userForm" fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="2rem">
        <div fxLayout="row" fxLayoutGap="2rem">
            <mat-form-field>
                <mat-label>First name</mat-label>
                <input matInput formControlName="name" [value]="data.name">
                <mat-error *ngIf="userForm.get('name').invalid">Must not be empty</mat-error>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Last name</mat-label>
                <input matInput formControlName="surname" [value]="data.surname">
                <mat-error *ngIf="userForm.get('surname').invalid">Must not be empty</mat-error>
            </mat-form-field>
            <mat-form-field>
                <mat-label>E-mail</mat-label>
                <input matInput formControlName="email" [value]="data.email" type="email">
                <mat-error *ngIf="userForm.get('email').invalid">Not a valid E-Mail address</mat-error>
            </mat-form-field>
        </div>
        <div formGroupName="address" fxLayout="row" fxLayoutGap="2rem">
            <mat-form-field>
                <mat-label>Street</mat-label>
                <input matInput formControlName="street" [value]="data.address.street">
                <mat-error *ngIf="userForm.get('address').invalid">Must not be empty</mat-error>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Post code</mat-label>
                <input matInput formControlName="postCode" [value]="data.address.postCode">
                <mat-error *ngIf="userForm.get('address').invalid">Invalid postcode</mat-error>
            </mat-form-field>
            <mat-form-field>
                <mat-label>City</mat-label>
                <input matInput formControlName="city" [value]="data.address.city">
                <mat-error *ngIf="userForm.get('address').invalid">Must not be empty</mat-error>
            </mat-form-field>
        </div>
        <mat-form-field>
            <mat-label>User roles</mat-label>
            <mat-select formControlName="roles" [value]="data.roles" multiple>
                <mat-option *ngFor="let role of getAllRoles()" [value]="role">
                    {{getRoleName(role)}}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </form>
    <button mat-flat-button color="primary" (click)="onSubmit()">Submit</button>
</div>