<div class="header">
	{{product.name}}
</div>
<div *ngIf="product.images.length > 0" class="images" fxLayout="row" fxLayoutAlign="space-around center">
	<button mat-icon-button class="btn-arrow" color="primary" (click)="changeImage(-1)" [disabled]="imageIndex === 0" tabindex="-1"><mat-icon>arrow_back_ios</mat-icon></button>
	<img [src]="product.images[imageIndex]">
	<button mat-icon-button class="btn-arrow" color="primary" (click)="changeImage(1)" [disabled]="imageIndex === product.images.length - 1" tabindex="-1"><mat-icon>arrow_forward_ios</mat-icon></button>
</div>
<div class="description">
	<h3>{{product.description}}</h3>
</div>
<div class="error">
	<mat-error *ngFor="let error of quantity.errors | keyvalue">{{errorMessages[error.key]}}</mat-error>
</div>
<div class="footer" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="5rem">
	<div class="price">{{product.price | currency:'PLN':'symbol':'1.2-2':'pl'}}</div>
	<div fxLayout="row" fxLayoutAlign="center center">
		<div class="quantity" fxLayout="row">
			<button mat-flat-button class="btn-step" tabindex="-1" (click)="input.stepDown(); quantity.setValue(input.value)" [disabled]="input.value <= input.min || quantity.disabled">
				<mat-icon>remove</mat-icon>
			</button>
			<input #input matInput type="number" [formControl]="quantity" [valueAsNumber]="quantity.value" tabindex="-1" min="1" [max]="product.quantity">
			<button mat-flat-button class="btn-step" tabindex="-1" (click)="input.stepUp(); quantity.setValue(input.value)" [disabled]="input.value >= input.max || quantity.disabled">
				<mat-icon>add</mat-icon>
			</button>
		</div>
		<span *ngIf="!quantity.disabled" class="in-stock"> / {{product.quantity}}</span>
	</div>
	<div>
		<button mat-flat-button color="primary" class="btn-addToCart" [disabled]="quantity.disabled" (click)="addProductToCart()">
			<mat-icon>add_shopping_cart</mat-icon>
			Add to cart
		</button>
	</div>
</div>